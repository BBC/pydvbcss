

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CSS-WC Message objects &mdash; pydvbcss 0.3.2-latest documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pydvbcss 0.3.2-latest documentation" href="index.html"/>
        <link rel="up" title="CSS-WC protocol" href="wc.html"/>
        <link rel="next" title="CSS-WC Clients" href="wc-client.html"/>
        <link rel="prev" title="CSS-WC Protocol Introduction" href="wc-overview.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pydvbcss
          

          
          </a>

          
            
            
              <div class="version">
                0.3.2-latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples.html">Run the examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="protocol.html">DVB CSS Protocol modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cii.html">CSS-CII protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="ts.html">CSS-TS protocol</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="wc.html">CSS-WC protocol</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="wc-overview.html">CSS-WC Protocol Introduction</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">CSS-WC Message objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-usage">Example usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wc-client.html">CSS-WC Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="wc-server.html">CSS-WC Servers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="protocol.html#common-types-and-objects">Common types and objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="timing.html">Clocks, Time and Scheduling modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">Internal implementation details</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">pydvbcss</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="protocol.html">DVB CSS Protocol modules</a> &raquo;</li>
      
          <li><a href="wc.html">CSS-WC protocol</a> &raquo;</li>
      
    <li>CSS-WC Message objects</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/wc-messages.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-dvbcss.protocol.wc"></span><div class="section" id="css-wc-message-objects">
<h1>CSS-WC Message objects<a class="headerlink" href="#css-wc-message-objects" title="Permalink to this headline">¶</a></h1>
<p>Module: <cite>dvbcss.protocol.wc</cite></p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#example-usage" id="id1">Example usage</a></li>
<li><a class="reference internal" href="#classes" id="id2">Classes</a><ul>
<li><a class="reference internal" href="#wcmessage" id="id3">WCMessage</a></li>
<li><a class="reference internal" href="#candidate" id="id4">Candidate</a></li>
</ul>
</li>
</ul>
</div>
<p>The <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage" title="dvbcss.protocol.wc.WCMessage"><code class="xref py py-class docutils literal"><span class="pre">WCMessage</span></code></a> class represents a CSS-WC protocol message.</p>
<p>The <a class="reference internal" href="#dvbcss.protocol.wc.Candidate" title="dvbcss.protocol.wc.Candidate"><code class="xref py py-class docutils literal"><span class="pre">Candidate</span></code></a> class represents a measurement &#8220;candidate&#8221;
for use by a Wall Clock Client algorithm and is calculated from a <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage" title="dvbcss.protocol.wc.WCMessage"><code class="xref py py-class docutils literal"><span class="pre">WCMessage</span></code></a>
that represents a Wall Clock protocol response message received from a server.</p>
<div class="section" id="example-usage">
<h2><a class="toc-backref" href="#id1">Example usage</a><a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<p>Creating a request message at a Wall Clock Client:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dvbcss.protocol.wc</span> <span class="kn">import</span> <span class="n">WCMessage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000000000</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="n">WCMessage</span><span class="p">(</span><span class="n">msgtype</span><span class="o">=</span><span class="n">WCMessage</span><span class="o">.</span><span class="n">TYPE_REQUEST</span><span class="p">,</span> <span class="n">precision</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">maxFreqError</span><span class="o">=</span><span class="mi">256</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span> <span class="n">originateNanos</span><span class="o">=</span><span class="n">t1</span><span class="p">,</span> <span class="n">receiveNanos</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">transmitNanos</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packedMessage</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packedMessage</span>
<span class="go">&quot;\x00\x00\xf6\x00\x00\x002\x00TvH&#39;3\xf5\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;</span>
</pre></div>
</div>
<p>Processing a received response message at a Wall Clock Client:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dvbcss.protocol.wc</span> <span class="kn">import</span> <span class="n">Candidate</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t4</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">nanoseconds</span><span class="o">-</span><span class="n">at</span><span class="o">-</span><span class="n">which</span><span class="o">-</span><span class="n">message</span><span class="o">-</span><span class="n">was</span><span class="o">-</span><span class="n">received</span><span class="o">&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="n">WCMessage</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">receivedData</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span><span class="o">.</span><span class="n">msgtype</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Candidate</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">t4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">rtt</span>
<span class="go">459734573</span>
</pre></div>
</div>
</div>
<div class="section" id="classes">
<h2><a class="toc-backref" href="#id2">Classes</a><a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="wcmessage">
<h3><a class="toc-backref" href="#id3">WCMessage</a><a class="headerlink" href="#wcmessage" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="class">
<dt id="dvbcss.protocol.wc.WCMessage">
<em class="property">class </em><code class="descclassname">dvbcss.protocol.wc.</code><code class="descname">WCMessage</code><span class="sig-paren">(</span><em>msgtype</em>, <em>precision</em>, <em>maxFreqError</em>, <em>originateNanos</em>, <em>receiveNanos</em>, <em>transmitNanos</em>, <em>originalOriginate=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Create object representing a CSS-WC wall clock request or response message.</p>
<p><strong>Initialisation takes the following parameters:</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>msgtype</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Type of message. One of: <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage.TYPE_REQUEST" title="dvbcss.protocol.wc.WCMessage.TYPE_REQUEST"><code class="xref py py-data docutils literal"><span class="pre">TYPE_REQUEST</span></code></a>, <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE" title="dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE"><code class="xref py py-data docutils literal"><span class="pre">TYPE_RESPONSE</span></code></a>, <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE_WITH_FOLLOWUP" title="dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE_WITH_FOLLOWUP"><code class="xref py py-data docutils literal"><span class="pre">TYPE_RESPONSE_WITH_FOLLOWUP</span></code></a> and <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage.TYPE_FOLLOWUP" title="dvbcss.protocol.wc.WCMessage.TYPE_FOLLOWUP"><code class="xref py py-data docutils literal"><span class="pre">TYPE_FOLLOWUP</span></code></a></li>
<li><strong>precision</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Precision (of the server&#8217;s wall clock) encoded in log base 2 seconds between -128 and +127 inclusive.</li>
<li><strong>maxFreqError</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Maximum frequency error (of the server&#8217;s wall clock) in units of  1/256ths ppm.</li>
<li><strong>originateNanos</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Originate timevalue in integer number of nanoseconds</li>
<li><strong>receiveNanos</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Receive timevalue in integer number of nanoseconds</li>
<li><strong>transmitNanos</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Transmit timevalue in integer number of nanoseconds</li>
<li><strong>originalOriginate</strong> (<a class="reference external" href="http://docs.python.org/library/constants.html#None" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a> or (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>, <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>)) &#8211; Optional original encoding of the originate timevalue as (seconds, nanos). Overrides <cite>originateNanos</cite> if not <cite>None</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The originalOriginate parameter, if not None, overrides the originateNanos parameter.</p>
<p>Convert to and from a string containing the binary encoding of this message
using the <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage.pack" title="dvbcss.protocol.wc.WCMessage.pack"><code class="xref py py-func docutils literal"><span class="pre">pack()</span></code></a> method and <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage.unpack" title="dvbcss.protocol.wc.WCMessage.unpack"><code class="xref py py-func docutils literal"><span class="pre">unpack()</span></code></a> class method.</p>
<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.msgtype">
<code class="descname">msgtype</code><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.msgtype" title="Permalink to this definition">¶</a></dt>
<dd><p>(read/write <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>) Type of message. 0=request, 1=response, 2=response-with-followup, 3=followup</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.precision">
<code class="descname">precision</code><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.precision" title="Permalink to this definition">¶</a></dt>
<dd><p>(read/write <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>) Precision encoded in log base 2 seconds between -128 and +127 inclusive. For example: -10 encodes a precision value of roughly 0.001 seconds.</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.maxFreqError">
<code class="descname">maxFreqError</code><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.maxFreqError" title="Permalink to this definition">¶</a></dt>
<dd><p>(read/write <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>) Maximum frequency error in units of  1/256ths ppm. For example: 12800 encodes a max freq error of 50ppm.</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.originateNanos">
<code class="descname">originateNanos</code><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.originateNanos" title="Permalink to this definition">¶</a></dt>
<dd><p>(read/write <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>) Originate timevalue in integer number of nanoseconds</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.receiveNanos">
<code class="descname">receiveNanos</code><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.receiveNanos" title="Permalink to this definition">¶</a></dt>
<dd><p>(read/write <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>) Receive timevalue in integer number of nanosecond</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.transmitNanos">
<code class="descname">transmitNanos</code><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.transmitNanos" title="Permalink to this definition">¶</a></dt>
<dd><p>(read/write <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>) Transmit timevalue in integer number of nanosecond</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.originalOriginate">
<code class="descname">originalOriginate</code><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.originalOriginate" title="Permalink to this definition">¶</a></dt>
<dd><p>(read/write <a class="reference external" href="http://docs.python.org/library/constants.html#None" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a> or (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>, <a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>)) Optional original encoding of the originate timevalue as (seconds, nanos). Overrides <cite>originateNanos</cite> when the message is packed if the value is not <cite>None</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.TYPE_FOLLOWUP">
<code class="descname">TYPE_FOLLOWUP</code><em class="property"> = 3</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.TYPE_FOLLOWUP" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant: Message type 3 &#8220;follow-up response&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.TYPE_REQUEST">
<code class="descname">TYPE_REQUEST</code><em class="property"> = 0</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.TYPE_REQUEST" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant: Message type 0 &#8220;request&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE">
<code class="descname">TYPE_RESPONSE</code><em class="property"> = 1</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant: Message type 1 &#8220;response with no follow-up&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE_WITH_FOLLOWUP">
<code class="descname">TYPE_RESPONSE_WITH_FOLLOWUP</code><em class="property"> = 2</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.TYPE_RESPONSE_WITH_FOLLOWUP" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant: Message type 2 &#8220;response to be followed by a follow-up response&#8221;</p>
</dd></dl>

<dl class="method">
<dt id="dvbcss.protocol.wc.WCMessage.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate this wallclock message object</p>
</dd></dl>

<dl class="classmethod">
<dt id="dvbcss.protocol.wc.WCMessage.encodePrecision">
<em class="property">classmethod </em><code class="descname">encodePrecision</code><span class="sig-paren">(</span><em>precisionSecs</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.encodePrecision" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a precision value in seconds to the format used in these messages</p>
</dd></dl>

<dl class="method">
<dt id="dvbcss.protocol.wc.WCMessage.getMaxFreqError">
<code class="descname">getMaxFreqError</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.getMaxFreqError" title="Permalink to this definition">¶</a></dt>
<dd><p>Get frequency error in ppm</p>
</dd></dl>

<dl class="method">
<dt id="dvbcss.protocol.wc.WCMessage.getPrecision">
<code class="descname">getPrecision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.getPrecision" title="Permalink to this definition">¶</a></dt>
<dd><p>Get precision value in fractions of a second</p>
</dd></dl>

<dl class="method">
<dt id="dvbcss.protocol.wc.WCMessage.pack">
<code class="descname">pack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.pack" title="Permalink to this definition">¶</a></dt>
<dd><p>Pack wall clock message into binary representation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String containing the wall clock message in final bitstream form.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvbcss.protocol.wc.WCMessage.setMaxFreqError">
<code class="descname">setMaxFreqError</code><span class="sig-paren">(</span><em>maxFreqErrorPpm</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.setMaxFreqError" title="Permalink to this definition">¶</a></dt>
<dd><p>Set freq error given a freq error represented as ppm</p>
</dd></dl>

<dl class="method">
<dt id="dvbcss.protocol.wc.WCMessage.setPrecision">
<code class="descname">setPrecision</code><span class="sig-paren">(</span><em>precisionSecs</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.setPrecision" title="Permalink to this definition">¶</a></dt>
<dd><p>Set precision value given a precision represented as factions of a second</p>
</dd></dl>

<dl class="classmethod">
<dt id="dvbcss.protocol.wc.WCMessage.unpack">
<em class="property">classmethod </em><code class="descname">unpack</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.WCMessage.unpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Class method that takes a string containing a wall clock message and unpacks
it to a <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage" title="dvbcss.protocol.wc.WCMessage"><code class="xref py py-class docutils literal"><span class="pre">WCMessage</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; String containing binary representation of a Wall Clock message as received from a client or server.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#dvbcss.protocol.wc.WCMessage" title="dvbcss.protocol.wc.WCMessage"><code class="xref py py-class docutils literal"><span class="pre">WCMessage</span></code></a> object representing the wall clock message.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
<div class="section" id="candidate">
<h3><a class="toc-backref" href="#id4">Candidate</a><a class="headerlink" href="#candidate" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="class">
<dt id="dvbcss.protocol.wc.Candidate">
<em class="property">class </em><code class="descclassname">dvbcss.protocol.wc.</code><code class="descname">Candidate</code><span class="sig-paren">(</span><em>msg</em>, <em>nanosRx</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate" title="Permalink to this definition">¶</a></dt>
<dd><p>This object represents a measurement &#8220;candidate&#8221; to be fed into a Wall Clock Client&#8217;s
algorithm. It is calculated from a <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage" title="dvbcss.protocol.wc.WCMessage"><code class="xref py py-class docutils literal"><span class="pre">WCMessage</span></code></a> received as a response from a
Wall Clock server.</p>
<p><strong>Initialisation takes the following parameters:</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>msg</strong> (<a class="reference internal" href="#dvbcss.protocol.wc.WCMessage" title="dvbcss.protocol.wc.WCMessage"><code class="xref py py-class docutils literal"><span class="pre">WCMessage</span></code></a>) &#8211; Response message received from server</li>
<li><strong>nanosRx</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; the time, in nanoseconds, at which it was received (from the server)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Pass in a received WallClockMessage that is a response and this will represent the
candidate data derived from that request-response interaction.</p>
<p>Populates properties of this objects with the candidate information.
<a class="reference internal" href="#dvbcss.protocol.wc.Candidate.t1" title="dvbcss.protocol.wc.Candidate.t1"><code class="xref py py-data docutils literal"><span class="pre">t1</span></code></a>, <a class="reference internal" href="#dvbcss.protocol.wc.Candidate.t2" title="dvbcss.protocol.wc.Candidate.t2"><code class="xref py py-data docutils literal"><span class="pre">t2</span></code></a>, <a class="reference internal" href="#dvbcss.protocol.wc.Candidate.t3" title="dvbcss.protocol.wc.Candidate.t3"><code class="xref py py-data docutils literal"><span class="pre">t3</span></code></a> and <a class="reference internal" href="#dvbcss.protocol.wc.Candidate.t4" title="dvbcss.protocol.wc.Candidate.t4"><code class="xref py py-data docutils literal"><span class="pre">t4</span></code></a> represent the times of message sending
and receiving as shown below:</p>
<a class="reference internal image-reference" href="_images/wc-request-response.png"><img alt="_images/wc-request-response.png" class="align-center" src="_images/wc-request-response.png" style="width: 128pt;" /></a>
<p>It also calculates and provides, as properties, the round-trip time (<a class="reference internal" href="#dvbcss.protocol.wc.Candidate.rtt" title="dvbcss.protocol.wc.Candidate.rtt"><code class="xref py py-data docutils literal"><span class="pre">rtt</span></code></a>)
and clock offset estimate (<a class="reference internal" href="#dvbcss.protocol.wc.Candidate.offset" title="dvbcss.protocol.wc.Candidate.offset"><code class="xref py py-data docutils literal"><span class="pre">offset</span></code></a>) based on this measurement.</p>
<p>By default the data is preserved in nanoseconds. However you may use the <a class="reference internal" href="#dvbcss.protocol.wc.Candidate.toTicks" title="dvbcss.protocol.wc.Candidate.toTicks"><code class="xref py py-func docutils literal"><span class="pre">toTicks()</span></code></a>
method to create a new version of the Candidate object using units of ticks matching
a <a class="reference internal" href="clock.html#module-dvbcss.clock" title="dvbcss.clock"><code class="xref py py-mod docutils literal"><span class="pre">clock</span></code></a> object you provide.</p>
<p>The exceptions are precision which is measured in seconds, and
maximum frequency error which is measured in ppm</p>
<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.t1">
<code class="descname">t1</code><em class="property"> = msg.originateNanos</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.t1" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) The time &#8220;t1&#8221; at which the request was sent in the request-response measurement (nanoseconds, or clock ticks)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.t2">
<code class="descname">t2</code><em class="property"> = msg.receiveNanos</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.t2" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) The time &#8220;t2&#8221; at which the request was received in the request-response measurement (nanoseconds, or clock ticks)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.t3">
<code class="descname">t3</code><em class="property"> = msg.transmitNanos</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.t3" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) The time &#8220;t3&#8221; at which the response was sent in the request-response measurement (nanoseconds, or clock ticks)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.t4">
<code class="descname">t4</code><em class="property"> = nanosRx</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.t4" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) The time &#8220;t4&#8221; at which the response was received in the request-response measurement (nanoseconds, or clock ticks)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.offset">
<code class="descname">offset</code><em class="property"> = ((t3+t2)-(t4+t1))/2</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) Server&lt;-&gt;client clock offset (nanoseconds, or clock ticks)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.rtt">
<code class="descname">rtt</code><em class="property"> = (t4-t1)-(t3-t2)</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.rtt" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) Round trip time (nanoseconds, or clock ticks)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.isNanos">
<code class="descname">isNanos</code><em class="property"> = True</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.isNanos" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only <a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></a>) True if this candidate object is in units of nanoseconds for t1, t2, t3, t4, offset and rtt</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.precision">
<code class="descname">precision</code><em class="property"> = msg.getPrecision()</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.precision" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) The precision reported by the server in its response (units of factions of a second)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.maxFreqError">
<code class="descname">maxFreqError</code><em class="property"> = msg.getMaxFreqError()</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.maxFreqError" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only) The maximum frequency error reported by the server in its response (units of ppm)</p>
</dd></dl>

<dl class="attribute">
<dt id="dvbcss.protocol.wc.Candidate.msg">
<code class="descname">msg</code><em class="property"> = WCMessage</em><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.msg" title="Permalink to this definition">¶</a></dt>
<dd><p>(read only <a class="reference internal" href="#dvbcss.protocol.wc.WCMessage" title="dvbcss.protocol.wc.WCMessage"><code class="xref py py-class docutils literal"><span class="pre">WCMessage</span></code></a>) The response message from which this candidate was derived</p>
</dd></dl>

<dl class="method">
<dt id="dvbcss.protocol.wc.Candidate.toTicks">
<code class="descname">toTicks</code><span class="sig-paren">(</span><em>clock</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/BBC/pydvbcss/tree/master/dvbcss/protocol/wc.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvbcss.protocol.wc.Candidate.toTicks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new Candidate object the same as this one but whose measurements have been converted to match the timescale of a clock.</p>
<p><cite>t1</cite>, <cite>t2</cite>, <cite>t3</cite>, <cite>t4</cite>, rtt and <cite>offset</cite> of the returned object are converted to units of ticks matching the clock.
But <cite>precision</cite> and <cite>maxFreqError</cite> remain unchanged.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>clock</strong> (<a class="reference internal" href="clock.html#module-dvbcss.clock" title="dvbcss.clock"><em>dvbcss.clock</em></a>) &#8211; Clock whose <a class="reference internal" href="clock.html#dvbcss.clock.ClockBase.nanosToTicks" title="dvbcss.clock.ClockBase.nanosToTicks"><code class="xref py py-func docutils literal"><span class="pre">nanosToTicks()</span></code></a> function will be used to create the new candidate object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a copy of this candidate where the units have been converted to &#8216;ticks&#8217; according to the tick rate of the supplied clock.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="wc-client.html" class="btn btn-neutral float-right" title="CSS-WC Clients" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="wc-overview.html" class="btn btn-neutral" title="CSS-WC Protocol Introduction" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, British Broadcasting Corporation.
      Last updated on Dec 17, 2015.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3.2-latest',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>